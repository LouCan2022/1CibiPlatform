@using MudBlazor

<MudTabs Rounded="false"
                 Scrollable="true"
                 Centered="true"
                 Elevation="0"
                 AlwaysShowScrollButtons="true"
                 @bind-ActivePanelIndex="_activeIndex"
                 OnActivePanelIndexChanged="OnTabChanged"
                 Class="philsys-custom-tabs mb-5">
                <MudTabPanel Text="Personal Information" Class="@GetTabClass(0)" Onclick="@TabChangedAsync" Style="text-transform:none; min-width:120px;" />
                <MudTabPanel Text="PhilSys Card Number" Class="@GetTabClass(1)" Onclick="@TabChangedAsync" Style="text-transform:none; min-width: 120px;" />
</MudTabs>

@code {
    [Parameter]
    public EventCallback<int> ActiveTabChanged { get; set; }

    private int _activeIndex = 0;

    private void OnTabChanged(int index)
    {
        _activeIndex = index;
    }

    private async Task TabChangedAsync()
    {
        await ActiveTabChanged.InvokeAsync(_activeIndex);
    }

    private string GetTabClass(int index)
    {
        return _activeIndex == index
            ? "philsys-tab-pannel philsys-tab-pannel-active"
            : "philsys-tab-pannel philsys-tab-pannel-inactive";
    }
}
